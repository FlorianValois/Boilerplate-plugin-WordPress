jQuery(document).ready(function(e){e(".color-field").wpColorPicker(),e("#range").on("input",function(t){e("#rangValue").html(e("#range").val())}),e("#formAjax").on("submit",function(t){t.preventDefault();var a=function(t,a){var i=e("#formAjax").serializeArray(),n={};return e.each(i,function(e,t){console.log(n[t.name]=t.value)}),a&&e.each(n,function(t,a){""===e.trim(a)&&delete n[t]}),n}(e(this),!0);console.log(a),console.log(e(this).serialize());var i={action:"wpa_49691",data:a};e.ajax({type:"POST",data:i,dataType:"json",url:youruniquejs_vars.ajaxurl,success:function(e){e.update?swal({position:"center",type:"success",title:"Sauvegardé !",text:"Vos modifications ont été sauvegardées avec succès.",backdrop:"rgba(0, 0, 0, .5)"}):swal({position:"center",type:"info",title:"Sauvegarde non effectuée !",text:"Aucun champs n'a été modifié.",backdrop:"rgba(0, 0, 0, .5)"})}})}),e(".upload-image-btn").on("click",function(t){t.preventDefault();var a=e(this).siblings(".image-preview"),i=e(this).siblings(".image-url"),n=wp.media({title:"Choisir une image",button:{text:"Sélectionner"},multiple:!1}).open().on("select",function(e){var t=n.state().get("selection").first();console.log(t);var o=t.toJSON().url;i.val(o),a.attr("src",o)})}),e(".image-url").keyup(function(){e(this).siblings(".image-preview").attr("src",e(this).val())})});